<html lang="en">
<head>
  {{> header}}
</head>
<body>
  {{> navBar}}

<main class="page class-page">
  <h2>Dance Classes</h2>

  <div class="filters">
    <select id="courseFilter">
      <option value="">All Courses</option>
      {{#uniqueCourses}}
        <option value="{{.}}">{{.}}</option>
      {{/uniqueCourses}}
    </select>
  </div>

  <div class="grid" id="classGrid">
    {{#classes}}
      <div class="card"
           data-course="{{courseName}}"
           tabindex="{{tabIndex}}">
        <h3>{{name}}</h3>
        <p class="description">{{description}}</p>
        <p><strong>Course:</strong> {{courseName}}</p>
        <p><strong>Start:</strong> {{formattedStartDateTime}}</p>
        <p><strong>End:</strong> {{formattedEndDateTime}}</p>
        <p><strong>Location:</strong> {{location}}</p>
        <p><strong>Price:</strong> ${{price}}</p>
        <button class="register-btn"
                data-class-id="{{_id}}"
                data-class-name="{{name}}"
                data-class-description="{{description}}"
                data-class-start="{{formattedStartDateTime}}"
                data-class-end="{{formattedEndDateTime}}"
                data-class-location="{{location}}"
                data-class-price="{{price}}">
          Register
        </button>
      </div>
    {{/classes}}

    {{^classes}}
      <p class="no-items">No classes available at the moment.</p>
    {{/classes}}
  </div>
</main>

<!-- Modal -->
<div id="classModal" class="modal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>
    <h3 id="modalClassName"></h3>
    <p id="modalClassDescription"></p>
    <p><strong>Location:</strong> <span id="modalClassLocation"></span></p>
    <p><strong>Price:</strong> $<span id="modalClassPrice"></span></p>
    <p><strong>Start Time:</strong> <span id="modalClassStartTime"></span></p>
    <p><strong>End Time:</strong> <span id="modalClassEndTime"></span></p>

    <form id="registerClassForm">
      <label for="userName">Your Name:</label>
      <input type="text" id="userName" name="userName" required placeholder="Enter your name" />

      <label for="userEmail">Your Email:</label>
      <input type="email" id="userEmail" name="userEmail" required placeholder="Enter your email" />

      <input type="hidden" id="modalClassId" name="classId" />

      <button type="submit">Register</button>
    </form>
  </div>
</div>

{{> footer}}
<script src="/js/classes.js"></script>
</body>
</html>
